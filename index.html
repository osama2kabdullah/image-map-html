<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planner</title>
  <link rel="stylesheet" href="assets/style.css">
</head>
<body>
  <main>

    <div class="planer-container">

      <div class="planer-header">
        <div class="map-container">
          <!-- Your image with image map -->
          <img src="assets/images/CHAMPS-scaled.jpg" usemap="#image-map" class="plan-image" alt="Campus image" />
        
          <div class="" data-title="Lot B11" data-clip="672,476,665,584,127,561,129,451,525,451"></div>
          <div class="" data-title="Lot B01" data-clip="1106,600,1079,702,127,677,131,571,1004,589"></div>
          <div class="" data-title="Lot B12" data-clip="692,461,1059,452,1108,485,1111,580,697,571"></div>
          <div class="" data-title="Lot A21" data-clip="1364,389,1341,431,1335,549,2255,535,2257,391"></div>
          <div class="" data-title="Lot A11" data-clip="1389,672,1730,665,1735,544,1339,553,1330,663"></div>
          <div class="" data-title="Lot A12" data-clip="2253,668,2255,546,1839,544,1834,668"></div>
          <div class="" data-title="Lot A01" data-clip="1396,758,2228,774,2097,749,2090,675,1398,675"></div>
  
        </div>
      </div>

      <div class="property-list">
        
        <!-- Row 1 -->
        <div class="property-card">
          <div class="lot">Lot B01</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">5.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">148</span></div>
          </div>
          <div class="price">Vendu</div>
          
          <div class="pdf-button" style="visibility: hidden;">
            <a href="" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>

        </div>
        <div class="property-card">
          <div class="lot">Lot A01</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">5.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">148</span></div>
          </div>
          <div class="price">1'910'000 CHF</div>
          <div class="pdf-button">
            <a href="https://www.morges-radians.ch/wp-content/uploads/2025/04/A01.pdf" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>

        <!-- Row 2 -->
        <div class="property-card">
          <div class="lot">Lot B11</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">2.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">74</span></div>
          </div>
          <div class="price">960'000 CHF</div>
          <div class="pdf-button">
            <a href="https://www.morges-radians.ch/wp-content/uploads/2025/04/B11.pdf" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>
        <div class="property-card">
          <div class="lot">Lot A11</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">2.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">74</span></div>
          </div>
          <div class="price">960'000 CHF</div>
          <div class="pdf-button">
            <a href="https://www.morges-radians.ch/wp-content/uploads/2025/04/A11.pdf" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>

        <!-- Row 3 -->
        <div class="property-card">
          <div class="lot">Lot B12</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">3.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">95</span></div>
          </div>
          <div class="price">Vendu</div>
          <div class="pdf-button" style="visibility: hidden;">
            <a href="" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>
        <div class="property-card">
          <div class="lot">Lot A12</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">3.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">95</span></div>
          </div>
          <div class="price">Vendu</div>
          <div class="pdf-button" style="visibility: hidden;">
            <a href="" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>

        <!-- Row 4 -->
        <div class="property-card">
          <div class="lot">Lot B21</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">2.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">74</span></div>
          </div>
          <div class="price">Vendu</div>
          <div class="pdf-button" style="visibility: hidden;">
            <a href="" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>
        <div class="property-card">
          <div class="lot">Lot A21</div>
          <div class="info">
            <div><span class="label">Pièces</span><br><span class="value">5.5</span></div>
            <div><span class="label">Surface</span><br><span class="value">170</span></div>
          </div>
          <div class="price">Vendu</div>
          <div class="pdf-button">
            <a href="https://www.morges-radians.ch/wp-content/uploads/2025/04/A21.pdf" target="_blank">
              <button>
                <span class="icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-download" viewBox="0 0 16 16">
                    <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
                    <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"/>
                  </svg>
                </span> 
                PDF
              </button>
            </a>
          </div>
        </div>
      </div>

    </div>
  </main>

<script>
  window.addEventListener('load', () => {
    const img = document.querySelector('.plan-image');
    const overlays = document.querySelectorAll('.map-container [data-title]');
    const propertyCards = document.querySelectorAll('.property-card');
    let selectedOverlay = null;
    let selectedCard = null;

    const naturalWidth = img.naturalWidth;
    const naturalHeight = img.naturalHeight;

    const updateOverlays = () => {
      const currentWidth = img.clientWidth;
      const currentHeight = img.clientHeight;

      const scaleX = currentWidth / naturalWidth;
      const scaleY = currentHeight / naturalHeight;

      overlays.forEach(overlay => {
        const coords = overlay.dataset.clip.split(',').map(Number);
        const points = [];

        for (let i = 0; i < coords.length; i += 2) {
          const x = coords[i] * scaleX;
          const y = coords[i + 1] * scaleY;
          points.push(`${x}px ${y}px`);
        }

        overlay.style.clipPath = `polygon(${points.join(',')})`;
      });
    };

    updateOverlays();
    window.addEventListener('resize', updateOverlays);

    propertyCards.forEach(card => {
      const lot = card.querySelector('.lot');
      const lotText = lot?.innerText.trim();

      if (!lotText) return;

      const matchedOverlay = Array.from(overlays).find(
        overlay => overlay.dataset.title === lotText
      );

      if (!matchedOverlay) return;

      card.addEventListener('mouseover', () => {
        if (matchedOverlay !== selectedOverlay) {
          matchedOverlay.classList.add('overlay');
        }
      });

      card.addEventListener('mouseout', () => {
        if (matchedOverlay !== selectedOverlay) {
          matchedOverlay.classList.remove('overlay');
        }
      });

      card.addEventListener('click', (event) => {
        event.stopPropagation();
        if (selectedOverlay && selectedOverlay !== matchedOverlay) {
          selectedOverlay.classList.remove('overlay');
        }

        selectedOverlay = matchedOverlay;
        matchedOverlay.classList.add('overlay');
        
        card.classList.add('selected');
        selectedCard = card;
        propertyCards.forEach(otherCard => {
          if (otherCard !== card) {
            otherCard.classList.remove('selected');
          }
        });

      });
    });

    document.addEventListener('click', () => {
      if (selectedOverlay) {
        selectedOverlay.classList.remove('overlay');
        selectedOverlay = null;
      }
      if (selectedCard) {
        selectedCard.classList.remove('selected');
        selectedCard = null;
      }
    });
  });
</script>

</body>
</html>